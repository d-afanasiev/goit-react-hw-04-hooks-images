(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2vNFV",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__26py4"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2vXSa",Modal:"Modal_Modal__2R_Vg"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3CKHV"}},26:function(e,t,a){e.exports={Button:"Button_Button__2G4ae"}},31:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__to7dk",SearchForm:"Searchbar_SearchForm__FEa1Y",SearchFormButton:"Searchbar_SearchFormButton__2vDMm",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2CnCI",SearchFormInput:"Searchbar_SearchFormInput__3SpyR"}},53:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(22),o=a.n(c),i=(a(31),a(13)),l=a(4),u=a(7),s=a(23),m=a.n(s),h=(a(53),a(54),a(24)),b=a.n(h);var g=function(e,t){var a="https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("23262406-c7298f4dbbc93d98b496e6608","&image_type=photo&orientation=horizontal&per_page=12");return b.a.get(a).then((function(e){return e}))},j=a(5),d=a.n(j),f=a(1);function S(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(l.a)(a,2),c=n[0],o=n[1];return Object(f.jsx)("header",{className:d.a.Searchbar,children:Object(f.jsxs)("form",{className:d.a.SearchForm,onSubmit:function(e){e.preventDefault(),""===c.trim()?u.Notify.warning("Search field is empty."):t({image:c,page:1,hits:0})},children:[Object(f.jsx)("button",{type:"submit",className:d.a.SearchFormButton,children:Object(f.jsx)("span",{className:d.a.SearchFormButtonLabel,children:"Search"})}),Object(f.jsx)("input",{className:d.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.target.value)}})]})})}var p=a(25),O=a.n(p);function y(e){var t=e.children;return Object(f.jsx)("ul",{className:O.a.ImageGallery,children:t})}var _=a(11),v=a.n(_);function I(e){var t=e.imageGallery,a=e.toogleModal,r=e.writeSrcState;return 0!==t.length&&t.map((function(e,t){return Object(f.jsx)("li",{className:v.a.ImageGalleryItem,children:Object(f.jsx)("img",{src:e.webformatURL,alt:e.tags,className:v.a.ImageGalleryItemImage,onClick:function(){return t=e.largeImageURL,r(t),void a(!0);var t}})},t)}))}var x=a(26),w=a.n(x);function N(e){var t=e.onSubmit,a=e.currentPage;return Object(f.jsx)("button",{type:"submit",className:w.a.Button,onClick:function(e){e.preventDefault(),t({page:a+1})},children:"Load more"})}var F=a(12),G=a.n(F);function k(e){var t=e.modalSrc,a=e.toogleModal;Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&a(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return Object(f.jsx)("div",{className:G.a.Overlay,onClick:function(e){e.target===e.currentTarget&&a(!1)},children:Object(f.jsx)("div",{className:G.a.Modal,children:Object(f.jsx)("img",{src:t,alt:""})})})}function B(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)(""),s=Object(l.a)(o,2),h=s[0],b=s[1],j=Object(r.useState)(1),d=Object(l.a)(j,2),p=d[0],O=d[1],_=Object(r.useState)(null),v=Object(l.a)(_,2),x=v[0],w=v[1],F=Object(r.useState)(!1),G=Object(l.a)(F,2),B=G[0],M=G[1],L=Object(r.useState)(!1),C=Object(l.a)(L,2),E=C[0],P=C[1],R=Object(r.useState)(""),q=Object(l.a)(R,2),D=q[0],V=q[1];Object(r.useEffect)((function(){h&&(J(!0),g(h,p).then((function(e){w(e.data.hits.length),0===e.data.hits.length&&(u.Notify.failure("Sorry, there are no images matching your search query. Please try again."),w(0)),c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.data.hits))}))})).catch((function(e){u.Notify.failure("Sorry, there are no images matching your search query. Please try again."),w(0)})).finally((function(){J(!1),A()})))}),[h,p]);var A=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},H=function(e){e.image?(c([]),b(e.image),O(e.page)):O(e.page)},J=function(e){return M(e)},T=function(e){P(e)};return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(S,{onSubmit:H}),Object(f.jsx)(y,{children:Object(f.jsx)(I,{imageGallery:n,toogleModal:T,writeSrcState:function(e){V(e)}})}),B&&Object(f.jsx)(m.a,{type:"Audio",color:"#3f51b5",height:80,width:80,timeout:500,className:"Loader"}),!B&&x>=12&&Object(f.jsx)(N,{onSubmit:H,currentPage:p}),E&&Object(f.jsx)(k,{modalSrc:D,toogleModal:T})]})}o.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(B,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.4f948a08.chunk.js.map