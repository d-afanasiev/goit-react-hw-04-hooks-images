{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","services/pixabay-api.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","fetchImages","name","page","API","axios","get","then","images","Searchbar","onSubmit","useState","image","setImage","className","css","SearchForm","e","preventDefault","trim","Notify","warning","hits","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","target","ImageGallery","children","ImageGalleryItem","imageGallery","toogleModal","writeSrcState","length","map","src","webformatURL","alt","tags","ImageGalleryItemImage","onClick","data","largeImageURL","id","Button","currentPage","totalHits","Modal","modalSrc","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","Overlay","currentTarget","App","state","showLoader","showModal","dataRequestAPI","toogleLoader","failure","setState","prevState","scrollToBottom","catch","error","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","writeValuesToState","status","prevProps","this","color","height","width","timeout","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ebd5911b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","import axios from \"axios\";\n\nconst API_KEY = \"23262406-c7298f4dbbc93d98b496e6608\";\n\nfunction fetchImages(name, page) {\n  const API = `https://pixabay.com/api/?q=${name}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  return axios.get(API).then((images) => {\n    return images;\n  });\n}\n\nexport default fetchImages;\n","import { useState } from \"react\";\nimport { Notify } from \"notiflix\";\nimport PropTypes from \"prop-types\";\nimport css from \"./Searchbar.module.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [image, setImage] = useState(\"\");\n\n  const handleChange = (e) => {\n    setImage(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    image.trim() === \"\"\n      ? Notify.warning(\"Search field is empty.\")\n      : onSubmit({ image, page: 1, hits: 0 });\n  };\n\n  return (\n    <header className={css.Searchbar}>\n      <form className={css.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={css.SearchFormButton}>\n          <span className={css.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={css.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={image}\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport css from \"./ImageGallery.module.css\";\n\nexport default function ImageGallery({ children }) {\n  return <ul className={css.ImageGallery}>{children}</ul>;\n}\n\nImageGallery.propTypes = {\n  children: PropTypes.object,\n};\n","import PropTypes from \"prop-types\";\nimport css from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({\n  imageGallery,\n  toogleModal,\n  writeSrcState,\n}) {\n  const handleSrcState = (data) => {\n    writeSrcState(data);\n    toogleModal(true);\n  };\n\n  return (\n    imageGallery.length !== 0 &&\n    imageGallery.map((image) => (\n      <li key={image.id} className={css.ImageGalleryItem}>\n        <img\n          src={image.webformatURL}\n          alt={image.tags}\n          className={css.ImageGalleryItemImage}\n          onClick={() => handleSrcState(image.largeImageURL)}\n        />\n      </li>\n    ))\n  );\n}\n\nImageGalleryItem.propTypes = {\n  imageGallery: PropTypes.arrayOf(PropTypes.object),\n  toogleModal: PropTypes.func,\n  writeSrcState: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport css from \"./Button.module.css\";\n\nexport default function Button({ onSubmit, currentPage, totalHits }) {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit({ page: currentPage + 1, hits: 0 });\n  };\n\n  return (\n    totalHits !== 0 && (\n      <button type=\"submit\" className={css.Button} onClick={handleSubmit}>\n        Load more\n      </button>\n    )\n  );\n}\n\nButton.propTypes = {\n  totalHits: PropTypes.number,\n  onSubmit: PropTypes.func,\n  currentPage: PropTypes.number,\n};\n","import { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport css from \"./Modal.module.css\";\n\nexport default function Modal({ modalSrc, toogleModal }) {\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.code === \"Escape\") {\n        toogleModal(false);\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [toogleModal]);\n\n  const handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      toogleModal(false);\n    }\n  };\n\n  return (\n    <div className={css.Overlay} onClick={handleBackdropClick}>\n      <div className={css.Modal}>\n        <img src={modalSrc} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  modalSrc: PropTypes.string,\n  toogleModal: PropTypes.func,\n};\n","import { Component } from \"react\";\nimport { Notify } from \"notiflix\";\nimport Loader from \"react-loader-spinner\";\n\nimport \"./App.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport fetchImages from \"./services/pixabay-api\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    name: \"\",\n    page: null,\n    showLoader: false,\n    hits: 0,\n    showModal: false,\n    modalSrc: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      this.state.name !== prevState.name ||\n      this.state.page !== prevState.page\n    ) {\n      this.dataRequestAPI();\n    }\n  }\n\n  dataRequestAPI = () => {\n    const { name, page } = this.state;\n    this.toogleLoader(true);\n    fetchImages(name, page)\n      .then((images) => {\n        if (images.data.hits.length === 0) {\n          Notify.failure(\n            \"Sorry, there are no images matching your search query. Please try again.\"\n          );\n        }\n\n        this.setState((prevState) => {\n          return {\n            images: [...prevState.images, ...images.data.hits],\n            hits: prevState.hits + images.data.hits.length,\n          };\n        });\n\n        if (this.state.hits >= images.data.totalHits) {\n          this.setState({ hits: 0 });\n        }\n        this.scrollToBottom();\n      })\n      .catch((error) => {\n        Notify.failure(\n          \"Sorry, there are no images matching your search query. Please try again.\"\n        );\n      })\n      .finally(() => this.toogleLoader(false));\n  };\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  writeValuesToState = (data) => {\n    data.image\n      ? this.setState({\n          images: [],\n          name: data.image,\n          page: data.page,\n          hits: data.hits,\n        })\n      : this.setState({ page: data.page, hits: data.hits });\n  };\n\n  toogleLoader = (status) => {\n    return this.setState({ showLoader: status });\n  };\n\n  toogleModal = (data) => {\n    this.setState({\n      showModal: data,\n    });\n  };\n\n  writeSrcState = (data) => {\n    this.setState({\n      modalSrc: data,\n    });\n  };\n\n  render() {\n    const { images, page, hits, showModal, modalSrc } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.writeValuesToState} />\n        <ImageGallery>\n          <ImageGalleryItem\n            imageGallery={images}\n            toogleModal={this.toogleModal}\n            writeSrcState={this.writeSrcState}\n          />\n        </ImageGallery>\n        {this.state.showLoader && (\n          <Loader\n            type=\"Audio\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            timeout={500}\n            className=\"Loader\"\n          />\n        )}\n        <Button\n          totalHits={hits}\n          onSubmit={this.writeValuesToState}\n          currentPage={page}\n        />\n        {showModal && (\n          <Modal modalSrc={modalSrc} toogleModal={this.toogleModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}