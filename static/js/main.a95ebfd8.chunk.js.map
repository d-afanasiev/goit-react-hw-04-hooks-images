{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","services/pixabay-api.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","fetchImages","name","page","API","axios","get","then","images","Searchbar","state","image","handleChange","e","setState","target","value","handleSubmit","preventDefault","trim","Notify","warning","props","onSubmit","hits","this","className","css","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","writeSrcState","dataset","src","toogleModal","imageGallery","length","map","webformatURL","alt","tags","largeImageURL","ImageGalleryItemImage","onClick","id","Button","currentPage","totalHits","Modal","handleKeyDown","code","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","modalSrc","Overlay","App","showLoader","showModal","dataRequestAPI","toogleLoader","data","failure","prevState","scrollToBottom","catch","error","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","writeValuesToState","status","prevProps","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,yNCUZC,MAPf,SAAqBC,EAAMC,GACzB,IAAMC,EAAG,qCAAiCF,EAAjC,iBAA8CC,EAA9C,gBAHK,qCAGL,wDACT,OAAOE,IAAMC,IAAIF,GAAKG,MAAK,SAACC,GAC1B,OAAOA,M,uBC8CIC,E,4MA/CbC,MAAQ,CACNC,MAAO,I,EAGTC,aAAe,SAACC,GACd,EAAKC,SAAS,CACZH,MAAOE,EAAEE,OAAOC,S,EAIpBC,aAAe,SAACJ,GACdA,EAAEK,iBAE0B,KAA5B,EAAKR,MAAMC,MAAMQ,OACbC,SAAOC,QAAQ,0BACf,EAAKC,MAAMC,SAAS,CAAEZ,MAAO,EAAKD,MAAMC,MAAOR,KAAM,EAAGqB,KAAM,K,4CAGpE,WACE,IAAQb,EAAUc,KAAKf,MAAfC,MAER,OACE,wBAAQe,UAAWC,IAAIlB,UAAvB,SACE,uBAAMiB,UAAWC,IAAIC,WAAYL,SAAUE,KAAKR,aAAhD,UACE,wBAAQY,KAAK,SAASH,UAAWC,IAAIG,iBAArC,SACE,sBAAMJ,UAAWC,IAAII,sBAArB,sBAGF,uBACEL,UAAWC,IAAIK,gBACfH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZnB,MAAOL,EACPyB,SAAUX,KAAKb,wB,GApCHyB,a,iBCUTC,E,4JAVb,WACE,IAAQC,EAAad,KAAKH,MAAlBiB,SACR,OAAO,oBAAIb,UAAWC,IAAIW,aAAnB,SAAkCC,Q,GAHlBF,a,iBCgCZG,E,4MA/BbC,cAAgB,SAAC5B,GACf,EAAKS,MAAMmB,cAAc5B,EAAEE,OAAO2B,QAAQC,KAC1C,EAAKrB,MAAMsB,aAAY,I,4CAGzB,WAAU,IAAD,OACCC,EAAiBpB,KAAKH,MAAtBuB,aAER,OAC0B,IAAxBA,EAAaC,QACbD,EAAaE,KAAI,SAACpC,GAAD,OACf,oBAAmBe,UAAWC,IAAIa,iBAAlC,SACE,qBACEG,IAAKhC,EAAMqC,aACXC,IAAKtC,EAAMuC,KACX,WAAUvC,EAAMwC,cAChBzB,UAAWC,IAAIyB,sBACfC,QAAS,EAAKZ,iBANT9B,EAAM2C,W,GAZQjB,a,iBC6BhBkB,E,4MA5BbtC,aAAe,SAACJ,GACdA,EAAEK,iBACF,EAAKI,MAAMC,SAAS,CAAEpB,KAAM,EAAKmB,MAAMkC,YAAc,EAAGhC,KAAM,K,4CAGhE,WAGE,OACgB,IAHMC,KAAKH,MAAnBmC,WAIJ,wBACE5B,KAAK,SACLH,UAAWC,IAAI4B,OACfF,QAAS5B,KAAKR,aAHhB,2B,GAXaoB,a,iBCwCNqB,E,4MA/BbC,cAAgB,SAAC9C,GACA,WAAXA,EAAE+C,MACJ,EAAKtC,MAAMsB,aAAY,I,EAI3BiB,oBAAsB,SAAChD,GACjBA,EAAEE,SAAWF,EAAEiD,eACjB,EAAKxC,MAAMsB,aAAY,I,uDAhB3B,WACEmB,OAAOC,iBAAiB,UAAWvC,KAAKkC,iB,kCAG1C,WACEI,OAAOE,oBAAoB,UAAWxC,KAAKkC,iB,oBAe7C,WACE,IAAQO,EAAazC,KAAKH,MAAlB4C,SAER,OACE,qBAAKxC,UAAWC,IAAIwC,QAASd,QAAS5B,KAAKoC,oBAA3C,SACE,qBAAKnC,UAAWC,IAAI+B,MAApB,SACE,qBAAKf,IAAKuB,EAAUjB,IAAI,a,GA3BdZ,aCsIL+B,E,4MA5Hb1D,MAAQ,CACNF,OAAQ,GACRN,KAAM,GACNC,KAAM,KACNkE,YAAY,EACZ7C,KAAM,EACN8C,WAAW,EACXJ,SAAU,I,EAYZK,eAAiB,WACf,MAAuB,EAAK7D,MAApBR,EAAR,EAAQA,KAAMC,EAAd,EAAcA,KACd,EAAKqE,cAAa,GAClBvE,EAAYC,EAAMC,GACfI,MAAK,SAACC,GAC2B,IAA5BA,EAAOiE,KAAKjD,KAAKsB,QACnB1B,SAAOsD,QACL,4EAIJ,EAAK5D,UAAS,SAAC6D,GACb,MAAO,CACLnE,OAAO,GAAD,mBAAMmE,EAAUnE,QAAhB,YAA2BA,EAAOiE,KAAKjD,OAC7CA,KAAMmD,EAAUnD,KAAOhB,EAAOiE,KAAKjD,KAAKsB,WAIxC,EAAKpC,MAAMc,MAAQhB,EAAOiE,KAAKhB,WACjC,EAAK3C,SAAS,CAAEU,KAAM,IAExB,EAAKoD,oBAENC,OAAM,SAACC,GACN1D,SAAOsD,QACL,+EAGHK,SAAQ,kBAAM,EAAKP,cAAa,O,EAGrCI,eAAiB,WACfb,OAAOiB,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,Y,EAIdC,mBAAqB,SAACb,GACpBA,EAAK9D,MACD,EAAKG,SAAS,CACZN,OAAQ,GACRN,KAAMuE,EAAK9D,MACXR,KAAMsE,EAAKtE,KACXqB,KAAMiD,EAAKjD,OAEb,EAAKV,SAAS,CAAEX,KAAMsE,EAAKtE,KAAMqB,KAAMiD,EAAKjD,Q,EAGlDgD,aAAe,SAACe,GACd,OAAO,EAAKzE,SAAS,CAAEuD,WAAYkB,K,EAGrC3C,YAAc,SAAC6B,GACb,EAAK3D,SAAS,CACZwD,UAAWG,K,EAIfhC,cAAgB,SAACgC,GACf,EAAK3D,SAAS,CACZoD,SAAUO,K,wDAtEd,SAAmBe,EAAWb,GAE1BlD,KAAKf,MAAMR,OAASyE,EAAUzE,MAC9BuB,KAAKf,MAAMP,OAASwE,EAAUxE,MAE9BsB,KAAK8C,mB,oBAqET,WACE,MAAoD9C,KAAKf,MAAjDF,EAAR,EAAQA,OAAQL,EAAhB,EAAgBA,KAAMqB,EAAtB,EAAsBA,KAAM8C,EAA5B,EAA4BA,UAAWJ,EAAvC,EAAuCA,SAEvC,OACE,sBAAKxC,UAAU,MAAf,UACE,cAAC,EAAD,CAAWH,SAAUE,KAAK6D,qBAC1B,cAAC,EAAD,UACE,cAAC,EAAD,CACEzC,aAAcrC,EACdoC,YAAanB,KAAKmB,YAClBH,cAAehB,KAAKgB,kBAGvBhB,KAAKf,MAAM2D,YACV,cAAC,IAAD,CACExC,KAAK,QACL4D,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,IACTlE,UAAU,WAGd,cAAC,EAAD,CACE+B,UAAWjC,EACXD,SAAUE,KAAK6D,mBACf9B,YAAarD,IAEdmE,GACC,cAAC,EAAD,CACEJ,SAAUA,EACVG,WAAYC,EACZ1B,YAAanB,KAAKmB,qB,GArHZP,aCRlBwD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFb,SAASc,eAAe,U,kBCR1BjG,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,sC","file":"static/js/main.a95ebfd8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import axios from \"axios\";\n\nconst API_KEY = \"23262406-c7298f4dbbc93d98b496e6608\";\n\nfunction fetchImages(name, page) {\n  const API = `https://pixabay.com/api/?q=${name}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  return axios.get(API).then((images) => {\n    return images;\n  });\n}\n\nexport default fetchImages;\n","import { Component } from \"react\";\nimport { Notify } from \"notiflix\";\nimport PropTypes from \"prop-types\";\nimport css from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    image: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      image: e.target.value,\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.state.image.trim() === \"\"\n      ? Notify.warning(\"Search field is empty.\")\n      : this.props.onSubmit({ image: this.state.image, page: 1, hits: 0 });\n  };\n\n  render() {\n    const { image } = this.state;\n\n    return (\n      <header className={css.Searchbar}>\n        <form className={css.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={css.SearchFormButton}>\n            <span className={css.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={css.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={image}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nexport default Searchbar;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport css from \"./ImageGallery.module.css\";\n\nclass ImageGallery extends Component {\n  render() {\n    const { children } = this.props;\n    return <ul className={css.ImageGallery}>{children}</ul>;\n  }\n}\n\nImageGallery.propTypes = {\n  children: PropTypes.object,\n};\n\nexport default ImageGallery;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport css from \"./ImageGalleryItem.module.css\";\n\nclass ImageGalleryItem extends Component {\n  writeSrcState = (e) => {\n    this.props.writeSrcState(e.target.dataset.src);\n    this.props.toogleModal(true);\n  };\n\n  render() {\n    const { imageGallery } = this.props;\n\n    return (\n      imageGallery.length !== 0 &&\n      imageGallery.map((image) => (\n        <li key={image.id} className={css.ImageGalleryItem}>\n          <img\n            src={image.webformatURL}\n            alt={image.tags}\n            data-src={image.largeImageURL}\n            className={css.ImageGalleryItemImage}\n            onClick={this.writeSrcState}\n          />\n        </li>\n      ))\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  imageGallery: PropTypes.arrayOf(PropTypes.object),\n  toogleModal: PropTypes.func,\n  writeSrcState: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport css from \"./Button.module.css\";\n\nclass Button extends Component {\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit({ page: this.props.currentPage + 1, hits: 0 });\n  };\n\n  render() {\n    const { totalHits } = this.props;\n\n    return (\n      totalHits !== 0 && (\n        <button\n          type=\"submit\"\n          className={css.Button}\n          onClick={this.handleSubmit}\n        >\n          Load more\n        </button>\n      )\n    );\n  }\n}\n\nButton.propTypes = {\n  totalHits: PropTypes.number,\n  onSubmit: PropTypes.func,\n  currentPage: PropTypes.number,\n};\n\nexport default Button;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport css from \"./Modal.module.css\";\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.toogleModal(false);\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.toogleModal(false);\n    }\n  };\n\n  render() {\n    const { modalSrc } = this.props;\n\n    return (\n      <div className={css.Overlay} onClick={this.handleBackdropClick}>\n        <div className={css.Modal}>\n          <img src={modalSrc} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  modalSrc: PropTypes.string,\n  showLoader: PropTypes.bool,\n  toogleModal: PropTypes.func,\n};\n\nexport default Modal;\n","import { Component } from \"react\";\nimport { Notify } from \"notiflix\";\nimport Loader from \"react-loader-spinner\";\n\nimport \"./App.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport fetchImages from \"./services/pixabay-api\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    name: \"\",\n    page: null,\n    showLoader: false,\n    hits: 0,\n    showModal: false,\n    modalSrc: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      this.state.name !== prevState.name ||\n      this.state.page !== prevState.page\n    ) {\n      this.dataRequestAPI();\n    }\n  }\n\n  dataRequestAPI = () => {\n    const { name, page } = this.state;\n    this.toogleLoader(true);\n    fetchImages(name, page)\n      .then((images) => {\n        if (images.data.hits.length === 0) {\n          Notify.failure(\n            \"Sorry, there are no images matching your search query. Please try again.\"\n          );\n        }\n\n        this.setState((prevState) => {\n          return {\n            images: [...prevState.images, ...images.data.hits],\n            hits: prevState.hits + images.data.hits.length,\n          };\n        });\n\n        if (this.state.hits >= images.data.totalHits) {\n          this.setState({ hits: 0 });\n        }\n        this.scrollToBottom();\n      })\n      .catch((error) => {\n        Notify.failure(\n          \"Sorry, there are no images matching your search query. Please try again.\"\n        );\n      })\n      .finally(() => this.toogleLoader(false));\n  };\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  writeValuesToState = (data) => {\n    data.image\n      ? this.setState({\n          images: [],\n          name: data.image,\n          page: data.page,\n          hits: data.hits,\n        })\n      : this.setState({ page: data.page, hits: data.hits });\n  };\n\n  toogleLoader = (status) => {\n    return this.setState({ showLoader: status });\n  };\n\n  toogleModal = (data) => {\n    this.setState({\n      showModal: data,\n    });\n  };\n\n  writeSrcState = (data) => {\n    this.setState({\n      modalSrc: data,\n    });\n  };\n\n  render() {\n    const { images, page, hits, showModal, modalSrc } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.writeValuesToState} />\n        <ImageGallery>\n          <ImageGalleryItem\n            imageGallery={images}\n            toogleModal={this.toogleModal}\n            writeSrcState={this.writeSrcState}\n          />\n        </ImageGallery>\n        {this.state.showLoader && (\n          <Loader\n            type=\"Audio\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            timeout={500}\n            className=\"Loader\"\n          />\n        )}\n        <Button\n          totalHits={hits}\n          onSubmit={this.writeValuesToState}\n          currentPage={page}\n        />\n        {showModal && (\n          <Modal\n            modalSrc={modalSrc}\n            showLoader={showModal}\n            toogleModal={this.toogleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}